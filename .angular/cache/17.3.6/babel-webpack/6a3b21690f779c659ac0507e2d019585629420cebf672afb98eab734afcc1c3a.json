{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { inject, signal } from '@angular/core';\nimport { CartService } from '@shared/services/cart.service';\nimport { ProductService } from '@shared/services/product.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ProductDetailComponent_img_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 13);\n    i0.ɵɵlistener(\"click\", function ProductDetailComponent_img_6_Template_img_click_0_listener() {\n      const img_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.changeCover(img_r2));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const img_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"border-red-400\", img_r2 === ctx_r2.cover());\n    i0.ɵɵproperty(\"src\", img_r2, i0.ɵɵsanitizeUrl);\n  }\n}\nexport let ProductDetailComponent = /*#__PURE__*/(() => {\n  class ProductDetailComponent {\n    constructor() {\n      this.product = signal(null);\n      this.cover = signal('');\n      this.productService = inject(ProductService);\n      this.cartService = inject(CartService);\n    }\n    ngOnInit() {\n      if (this.id) {\n        this.productService.getOne(this.id).subscribe({\n          next: product => {\n            this.product.set(product);\n            console.log(product);\n            if (product.images.length > 0) {\n              this.cover.set(product.images[0]);\n            }\n          }\n        });\n      }\n    }\n    changeCover(newImage) {\n      this.cover.set(newImage);\n    }\n    addToCart() {\n      const product = this.product();\n      if (product) {\n        this.cartService.addToCart(product);\n      }\n    }\n    static #_ = this.ɵfac = function ProductDetailComponent_Factory(t) {\n      return new (t || ProductDetailComponent)();\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductDetailComponent,\n      selectors: [[\"app-product-detail\"]],\n      inputs: {\n        id: \"id\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 20,\n      vars: 13,\n      consts: [[1, \"w-full\", \"flex\", \"space-x-10\"], [1, \"flex\", \"flex-col\", \"w-1/3\"], [1, \"w-full\", \"rounded\", \"border\", \"border-gray-200\"], [\"alt\", \"ecommerce\", 1, \"w-full\", \"object-cover\", \"object-center\", 3, \"src\"], [1, \"flex\", \"items-center\", \"justify-center\", \"mt-1\"], [1, \"grid\", \"grid-cols-3\", \"gap-1\"], [\"alt\", \"ecommerce\", \"class\", \"object-cover object-center rounded border-2 border-gray-200\", 3, \"src\", \"border-red-400\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-5\", \"w-full\"], [1, \"text-sm\", \"title-font\", \"text-gray-500\", \"tracking-widest\"], [1, \"text-gray-900\", \"text-3xl\", \"title-font\", \"font-medium\", \"mb-1\"], [1, \"leading-relaxed\"], [1, \"title-font\", \"font-medium\", \"text-2xl\", \"text-gray-900\", \"mt-5\"], [1, \"flex\", \"text-white\", \"bg-red-500\", \"border-0\", \"py-2\", \"px-6\", \"focus:outline-none\", \"hover:bg-red-600\", \"rounded\", 3, \"click\"], [\"alt\", \"ecommerce\", 1, \"object-cover\", \"object-center\", \"rounded\", \"border-2\", \"border-gray-200\", 3, \"click\", \"src\"]],\n      template: function ProductDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵelement(3, \"img\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5);\n          i0.ɵɵtemplate(6, ProductDetailComponent_img_6_Template, 1, 3, \"img\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(7, \"div\", 7)(8, \"h2\", 8);\n          i0.ɵɵtext(9);\n          i0.ɵɵpipe(10, \"uppercase\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"h1\", 9);\n          i0.ɵɵtext(12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"p\", 10);\n          i0.ɵɵtext(14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"p\", 11);\n          i0.ɵɵtext(16);\n          i0.ɵɵpipe(17, \"currency\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function ProductDetailComponent_Template_button_click_18_listener() {\n            return ctx.addToCart();\n          });\n          i0.ɵɵtext(19, \" Add To Cart \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          let tmp_1_0;\n          let tmp_2_0;\n          let tmp_3_0;\n          let tmp_4_0;\n          let tmp_5_0;\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"src\", ctx.cover(), i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", (tmp_1_0 = ctx.product()) == null ? null : tmp_1_0.images);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 6, (tmp_2_0 = ctx.product()) == null ? null : tmp_2_0.category == null ? null : tmp_2_0.category.name));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", (tmp_3_0 = ctx.product()) == null ? null : tmp_3_0.title, \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", (tmp_4_0 = ctx.product()) == null ? null : tmp_4_0.description, \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(17, 8, (tmp_5_0 = ctx.product()) == null ? null : tmp_5_0.price, \"$\", \"symbol\", \"1.0\"));\n        }\n      },\n      dependencies: [CommonModule, i1.NgForOf, i1.UpperCasePipe, i1.CurrencyPipe],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdWN0LWRldGFpbC5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZG9tYWlucy9wcm9kdWN0cy9wYWdlcy9wcm9kdWN0LWRldGFpbC9wcm9kdWN0LWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw0S0FBNEsiLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n  return ProductDetailComponent;\n})();","map":{"version":3,"names":["CommonModule","inject","signal","CartService","ProductService","i0","ɵɵelementStart","ɵɵlistener","ProductDetailComponent_img_6_Template_img_click_0_listener","img_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","changeCover","ɵɵelementEnd","ɵɵclassProp","cover","ɵɵproperty","ɵɵsanitizeUrl","ProductDetailComponent","constructor","product","productService","cartService","ngOnInit","id","getOne","subscribe","next","set","console","log","images","length","newImage","addToCart","_","_2","selectors","inputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProductDetailComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","ProductDetailComponent_img_6_Template","ɵɵtext","ProductDetailComponent_Template_button_click_18_listener","ɵɵadvance","tmp_1_0","ɵɵtextInterpolate","ɵɵpipeBind1","tmp_2_0","category","name","ɵɵtextInterpolate1","tmp_3_0","title","tmp_4_0","description","ɵɵpipeBind4","tmp_5_0","price","i1","NgForOf","UpperCasePipe","CurrencyPipe","styles"],"sources":["C:\\Users\\Yerson\\Documents\\Cursos\\Platzi\\Angular\\Store\\src\\app\\domains\\products\\pages\\product-detail\\product-detail.component.ts","C:\\Users\\Yerson\\Documents\\Cursos\\Platzi\\Angular\\Store\\src\\app\\domains\\products\\pages\\product-detail\\product-detail.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, Input, inject, signal } from '@angular/core';\r\nimport { Product } from '@shared/models/product.model';\r\nimport { CartService } from '@shared/services/cart.service';\r\nimport { ProductService } from '@shared/services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-product-detail',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './product-detail.component.html',\r\n  styleUrl: './product-detail.component.css'\r\n})\r\n\r\nexport class ProductDetailComponent {\r\n\r\n  @Input() id?: string;\r\n  product = signal<Product | null>(null)\r\n  cover = signal('')\r\n  private productService = inject(ProductService);\r\n  private cartService = inject(CartService);\r\n\r\n  ngOnInit() {\r\n    if(this.id) {\r\n      this.productService.getOne(this.id)\r\n      .subscribe({\r\n        next: (product) => {\r\n          this.product.set(product);\r\n          console.log(product);\r\n          if(product.images.length > 0) {\r\n            this.cover.set(product.images[0])\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  changeCover(newImage: string) {\r\n    this.cover.set(newImage)\r\n  }\r\n\r\n  addToCart() {\r\n    const product = this.product()\r\n    if(product) {\r\n      this.cartService.addToCart(product)\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div class=\"w-full flex space-x-10\">\r\n    <div class=\"flex flex-col w-1/3\">\r\n        <div class=\"w-full rounded border border-gray-200\"> <img alt=\"ecommerce\"\r\n                class=\"w-full object-cover object-center\"\r\n                [src]=\"cover()\" /> </div>\r\n        <div class=\"flex items-center justify-center mt-1\">\r\n            <div class=\"grid grid-cols-3 gap-1\"> \r\n                <img alt=\"ecommerce\" class=\"object-cover object-center rounded border-2 border-gray-200\"\r\n                    *ngFor=\"let img of product()?.images\"\r\n                    [src]=\"img\"\r\n                    (click)=\"changeCover(img)\"\r\n                    [class.border-red-400]=\"img === cover()\" \r\n                />  \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"mt-5 w-full\">\r\n        <h2 class=\"text-sm title-font text-gray-500 tracking-widest\">{{ product()?.category?.name | uppercase }}</h2>\r\n        <h1 class=\"text-gray-900 text-3xl title-font font-medium mb-1\"> {{ product()?.title }} </h1>\r\n        <p class=\"leading-relaxed\"> {{ product()?.description }} </p>\r\n        <p class=\"title-font font-medium text-2xl text-gray-900 mt-5\">{{ product()?.price | currency: '$':'symbol':'1.0'}}</p> \r\n        <button   \r\n            (click)=\"addToCart()\"          \r\n            class=\"flex text-white bg-red-500 border-0 py-2 px-6 focus:outline-none hover:bg-red-600 rounded\"> Add To Cart \r\n        </button>\r\n    </div>\r\n</div>"],"mappings":"AAAA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAA2BC,MAAM,EAAEC,MAAM,QAAQ,eAAe;AAEhE,SAASC,WAAW,QAAQ,+BAA+B;AAC3D,SAASC,cAAc,QAAQ,kCAAkC;;;;;;ICGjDC,EAAA,CAAAC,cAAA,cAKE;IAFED,EAAA,CAAAE,UAAA,mBAAAC,2DAAA;MAAA,MAAAC,MAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA,EAAAC,SAAA;MAAA,MAAAC,MAAA,GAAAR,EAAA,CAAAS,aAAA;MAAA,OAAAT,EAAA,CAAAU,WAAA,CAASF,MAAA,CAAAG,WAAA,CAAAP,MAAA,CAAgB;IAAA,EAAC;IAH9BJ,EAAA,CAAAY,YAAA,EAKE;;;;;IADEZ,EAAA,CAAAa,WAAA,mBAAAT,MAAA,KAAAI,MAAA,CAAAM,KAAA,GAAwC;IAFxCd,EAAA,CAAAe,UAAA,QAAAX,MAAA,EAAAJ,EAAA,CAAAgB,aAAA,CAAW;;;ADK/B,WAAaC,sBAAsB;EAA7B,MAAOA,sBAAsB;IARnCC,YAAA;MAWE,KAAAC,OAAO,GAAGtB,MAAM,CAAiB,IAAI,CAAC;MACtC,KAAAiB,KAAK,GAAGjB,MAAM,CAAC,EAAE,CAAC;MACV,KAAAuB,cAAc,GAAGxB,MAAM,CAACG,cAAc,CAAC;MACvC,KAAAsB,WAAW,GAAGzB,MAAM,CAACE,WAAW,CAAC;;IAEzCwB,QAAQA,CAAA;MACN,IAAG,IAAI,CAACC,EAAE,EAAE;QACV,IAAI,CAACH,cAAc,CAACI,MAAM,CAAC,IAAI,CAACD,EAAE,CAAC,CAClCE,SAAS,CAAC;UACTC,IAAI,EAAGP,OAAO,IAAI;YAChB,IAAI,CAACA,OAAO,CAACQ,GAAG,CAACR,OAAO,CAAC;YACzBS,OAAO,CAACC,GAAG,CAACV,OAAO,CAAC;YACpB,IAAGA,OAAO,CAACW,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;cAC5B,IAAI,CAACjB,KAAK,CAACa,GAAG,CAACR,OAAO,CAACW,MAAM,CAAC,CAAC,CAAC,CAAC;YACnC;UACF;SACD,CAAC;MACJ;IACF;IAEAnB,WAAWA,CAACqB,QAAgB;MAC1B,IAAI,CAAClB,KAAK,CAACa,GAAG,CAACK,QAAQ,CAAC;IAC1B;IAEAC,SAASA,CAAA;MACP,MAAMd,OAAO,GAAG,IAAI,CAACA,OAAO,EAAE;MAC9B,IAAGA,OAAO,EAAE;QACV,IAAI,CAACE,WAAW,CAACY,SAAS,CAACd,OAAO,CAAC;MACrC;IACF;IAAC,QAAAe,CAAA,G;uBAhCUjB,sBAAsB;IAAA;IAAA,QAAAkB,EAAA,G;YAAtBlB,sBAAsB;MAAAmB,SAAA;MAAAC,MAAA;QAAAd,EAAA;MAAA;MAAAe,UAAA;MAAAC,QAAA,GAAAvC,EAAA,CAAAwC,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCZ3B9C,EAFR,CAAAC,cAAA,aAAoC,aACC,aACsB;UAACD,EAAA,CAAAgD,SAAA,aAE1B;UAAChD,EAAA,CAAAY,YAAA,EAAM;UAE7BZ,EADJ,CAAAC,cAAA,aAAmD,aACX;UAChCD,EAAA,CAAAiD,UAAA,IAAAC,qCAAA,iBAKE;UAGdlD,EAFQ,CAAAY,YAAA,EAAM,EACJ,EACJ;UAEFZ,EADJ,CAAAC,cAAA,aAAyB,YACwC;UAAAD,EAAA,CAAAmD,MAAA,GAA2C;;UAAAnD,EAAA,CAAAY,YAAA,EAAK;UAC7GZ,EAAA,CAAAC,cAAA,aAA+D;UAACD,EAAA,CAAAmD,MAAA,IAAuB;UAAAnD,EAAA,CAAAY,YAAA,EAAK;UAC5FZ,EAAA,CAAAC,cAAA,aAA2B;UAACD,EAAA,CAAAmD,MAAA,IAA6B;UAAAnD,EAAA,CAAAY,YAAA,EAAI;UAC7DZ,EAAA,CAAAC,cAAA,aAA8D;UAAAD,EAAA,CAAAmD,MAAA,IAAoD;;UAAAnD,EAAA,CAAAY,YAAA,EAAI;UACtHZ,EAAA,CAAAC,cAAA,kBAEsG;UADlGD,EAAA,CAAAE,UAAA,mBAAAkD,yDAAA;YAAA,OAASL,GAAA,CAAAd,SAAA,EAAW;UAAA,EAAC;UAC8EjC,EAAA,CAAAmD,MAAA,qBACvG;UAERnD,EAFQ,CAAAY,YAAA,EAAS,EACP,EACJ;;;;;;;;UAtBUZ,EAAA,CAAAqD,SAAA,GAAe;UAAfrD,EAAA,CAAAe,UAAA,QAAAgC,GAAA,CAAAjC,KAAA,IAAAd,EAAA,CAAAgB,aAAA,CAAe;UAIKhB,EAAA,CAAAqD,SAAA,GAAoB;UAApBrD,EAAA,CAAAe,UAAA,aAAAuC,OAAA,GAAAP,GAAA,CAAA5B,OAAA,qBAAAmC,OAAA,CAAAxB,MAAA,CAAoB;UASa9B,EAAA,CAAAqD,SAAA,GAA2C;UAA3CrD,EAAA,CAAAuD,iBAAA,CAAAvD,EAAA,CAAAwD,WAAA,SAAAC,OAAA,GAAAV,GAAA,CAAA5B,OAAA,qBAAAsC,OAAA,CAAAC,QAAA,kBAAAD,OAAA,CAAAC,QAAA,CAAAC,IAAA,EAA2C;UACxC3D,EAAA,CAAAqD,SAAA,GAAuB;UAAvBrD,EAAA,CAAA4D,kBAAA,OAAAC,OAAA,GAAAd,GAAA,CAAA5B,OAAA,qBAAA0C,OAAA,CAAAC,KAAA,MAAuB;UAC3D9D,EAAA,CAAAqD,SAAA,GAA6B;UAA7BrD,EAAA,CAAA4D,kBAAA,OAAAG,OAAA,GAAAhB,GAAA,CAAA5B,OAAA,qBAAA4C,OAAA,CAAAC,WAAA,MAA6B;UACKhE,EAAA,CAAAqD,SAAA,GAAoD;UAApDrD,EAAA,CAAAuD,iBAAA,CAAAvD,EAAA,CAAAiE,WAAA,SAAAC,OAAA,GAAAnB,GAAA,CAAA5B,OAAA,qBAAA+C,OAAA,CAAAC,KAAA,wBAAoD;;;qBDX9GxE,YAAY,EAAAyE,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,aAAA,EAAAF,EAAA,CAAAG,YAAA;MAAAC,MAAA;IAAA;;SAKXvD,sBAAsB;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}